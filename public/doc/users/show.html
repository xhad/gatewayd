
<!DOCTYPE html>
<html>
<head><script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script>
  <title>API documentation</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link type='text/css' rel='stylesheet' href='/apidocs_files/bootstrap.min.css'/>
<link type='text/css' rel='stylesheet' href='/apidocs_files/prettify.css'/>
<link type='text/css' rel='stylesheet' href='/apidocs_files/bootstrap-responsive.min.css'/>
  <link type='text/css' rel='stylesheet' href='/api/doc/stylesheets/application.css'/>
  <!-- IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
  <div class="container">
    <ul class='breadcrumb'>
  <li>
    <a href='/api/doc/1.0.html'>API Home 1.0</a>
    <span class='divider'>/</span>
  </li>
  <li>
    <a href='/api/doc/1.0/buttons.html'>
      Buttons
      
    </a>
    <span class='divider'>/</span>
  </li>
  <li class='active'>create</li>
</ul>

  <div class='page-header'>
    <h1>
      GET /api/v1/gateway/users/:userId/gateway_account<br>
      <small>Get the user's account.</small>
    </h1>
  </div>

<div>

  <p>Authenticated resource that creates a payment button, page, or iFrame to accept bitcoin on your website. This can be used to accept bitcoin for an individual item or to integrate with your existing shopping cart solution. For example, you could create a new payment button for each shopping cart on your website, setting the total and order number in the button at checkout.</p>

<p>The <code>code</code> param returned in the response can be used to generate an embeddable <a href='/docs/merchant_tools/payment_buttons'>button</a>, <a href='/docs/merchant_tools/payment_pages'>payment page</a>, or <a href='/docs/merchant_tools/payment_iframes'>iFrame</a>. Coinbase stores the underlying model in the same way, so the <code>code</code> can be used to generate any of these payment methods. Click one of the links above to see sample code showing how the <code>code</code> parameter is used.</p>

<p>You can set a variety of options on payment buttons. These correspond to the options used on the <a href='/merchant_tools'>button generator page</a>.</p>

<p>These include <code>type</code>, <code>style</code>, <code>custom</code>, <code>variable_price</code>, <code>include_email</code>, <code>include_address</code>, custom redirect urls, and more. For a description of each of these see the documentation below.</p>

    <h2>Examples</h2>
      <pre class="prettyprint">
# Request
POST /api/v1/buttons
{
    &quot;button&quot;: {
        &quot;name&quot;: &quot;test&quot;,
        &quot;type&quot;: &quot;buy_now&quot;,
        &quot;price_string&quot;: &quot;1.23&quot;,
        &quot;price_currency_iso&quot;: &quot;USD&quot;,
        &quot;custom&quot;: &quot;Order123&quot;,
        &quot;callback_url&quot;: &quot;http://www.example.com/my_custom_button_callback&quot;,
        &quot;description&quot;: &quot;Sample description&quot;,
        &quot;type&quot;: &quot;buy_now&quot;,
        &quot;style&quot;: &quot;custom_large&quot;,
        &quot;include_email&quot;: true
    }
}

# Reponse
{
    &quot;success&quot;: true,
    &quot;button&quot;: {
        &quot;code&quot;: &quot;93865b9cae83706ae59220c013bc0afd&quot;,
        &quot;type&quot;: &quot;buy_now&quot;,
        &quot;style&quot;: &quot;custom_large&quot;,
        &quot;text&quot;: &quot;Pay With Bitcoin&quot;,
        &quot;name&quot;: &quot;test&quot;,
        &quot;description&quot;: &quot;Sample description&quot;,
        &quot;custom&quot;: &quot;Order123&quot;,
        &quot;callback_url&quot;: &quot;http://www.example.com/my_custom_button_callback&quot;,
        &quot;price&quot;: {
            &quot;cents&quot;: 123,
            &quot;currency_iso&quot;: &quot;USD&quot;
        }
    }
}
  </pre>



    <h2>Params</h2>
    <table class='table'>
      <thead>
        <tr>
          <th>Param name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>button </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      <p>Button object containing the following params</p>
        <br>
        Value: Must be a Hash
    </td>
  </tr>

    <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[name] </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      <p>The name of the item for which you are collecting bitcoin. For example, <code>Acme Order #123</code> or <code>Annual Pledge Drive</code></p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price_string] </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      <p>Price as a decimal string, for example <code>1.23</code>. Can be more then two significant digits if <code>price_currency_iso</code> equals <code>BTC</code>.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price_currency_iso] </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      <p>Price currency as an ISO 4217 code such as <code>USD</code> or <code>BTC</code>. This determines what currency the price is shown in on the payment widget.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[type] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>One of <code>buy_now</code>, <code>donation</code>, and <code>subscription</code>. Default is <code>buy_now</code>.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[style] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>One of <code>buy_now_large</code>, <code>buy_now_small</code>, <code>donation_large</code>, <code>donation_small</code>, <code>subscription_large</code>, <code>subscription_small</code>, <code>custom_large</code>, <code>custom_small</code>, and <code>none</code>. Default is <code>buy_now_large</code>. <code>none</code> is used if you plan on triggering the payment modal yourself using your own button or link.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[text] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Allows you to customize the button text on <code>custom_large</code> and <code>custom_small</code> styles. Default is <code>Pay With Bitcoin</code>.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[description] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Longer description of the item in case you want it added to the user&#8217;s transaction notes.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[custom] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>An optional custom parameter. Usually an Order, User, or Product ID corresponding to a record in your database.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[callback_url] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>A custom callback URL specific to this button. It will receive the same information that would otherwise be sent to your <a href='#'>Instant Payment Notification URL</a>. If you have an Instant Payment Notification URL set on your account, this will be called instead &#8212; they will not both be called.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[success_url] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>A custom success URL specific to this button. The user will be redirected to this URL after a successful payment. It will receive the same parameters that would otherwise be sent to the default success url set on the account.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[cancel_url] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>A custom cancel URL specific to this button. The user will be redirected to this URL after a canceled order. It will receive the same parameters that would otherwise be sent to the default cancel url set on the account.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[info_url] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>A custom info URL specific to this button. Displayed to the user after a successful purchase for sharing. It will receive the same parameters that would otherwise be sent to the default info url set on the account.</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[variable_price] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Allow users to change the price on the generated button.</p>
        <br>
        Value: Must be Boolean
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[choose_price] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Show some suggested prices</p>
        <br>
        Value: Must be Boolean
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[include_address] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Collect shipping address from customer (not for use with inline iframes).</p>
        <br>
        Value: Must be Boolean
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[include_email] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Collect email address from customer (not for use with inline iframes).</p>
        <br>
        Value: Must be Boolean
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price1] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Suggested price 1</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price2] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Suggested price 2</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price3] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Suggested price 3</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price4] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Suggested price 4</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>button[price5] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      <p>Suggested price 5</p>
        <br>
        Value: Must be String
    </td>
  </tr>

  


      </tbody>
    </table>
</div>


    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = "";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js?https';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <hr>
    <footer>
</footer>
  </div>
  <script type='text/javascript' src='/api/doc/javascripts/bundled/jquery-1.7.2.js'></script>
<script type='text/javascript' src='/api/doc/javascripts/bundled/bootstrap-collapse.js'></script>
<script type='text/javascript' src='/api/doc/javascripts/bundled/prettify.js'></script>
<script type='text/javascript' src='/api/doc/javascripts/apipie.js'></script>
<script type="text/javascript">if (!NREUMQ.f) { NREUMQ.f=function() {
NREUMQ.push(["load",new Date().getTime()]);
var e=document.createElement("script");
e.type="text/javascript";
e.src=(("http:"===document.location.protocol)?"http:":"https:") + "//" +
  "js-agent.newrelic.com/nr-100.js";
document.body.appendChild(e);
if(NREUMQ.a)NREUMQ.a();
};
NREUMQ.a=window.onload;window.onload=NREUMQ.f;
};
NREUMQ.push(["nrfj","beacon-1.newrelic.com","307b195e05","863399","IQ4KQUZbDVlTF00CQQsRDVAbVRFcRgwHEB4LDwBQTA==",16,176,new Date().getTime(),"","","","",""]);</script></body>
</html>

